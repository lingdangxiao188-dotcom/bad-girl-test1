<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>不好惹女孩测试</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
    font-family: Arial, sans-serif;
    background:#f5f5f5;
    margin:0;
}
.page {
    display:none;
    max-width:600px;
    margin:20px auto;
    background:#fff;
    padding:20px;
    border-radius:8px;
}
.page.active { display:block; }
.option {
    border:1px solid #ddd;
    border-radius:4px;
    padding:10px;
    margin:8px 0;
    cursor:pointer;
}
.option:hover { background:#f3f3f3; }
.progress-bar {
    height:8px;
    background:#eee;
    border-radius:4px;
}
.progress-fill {
    height:100%;
    background:#8b5cf6;
    width:0%;
}
.question-index {
    font-size:14px;
    color:#666;
    margin:10px 0;
}
button {
    background:#8b5cf6;
    color:#fff;
    border:none;
    padding:10px 16px;
    border-radius:4px;
    cursor:pointer;
}
</style>
</head>

<body>

<!-- 封面页 -->
<div id="cover-page" class="page active">
    <h1>不好惹女孩测试</h1>
    <p>30 道真实情境题，找到你最容易被拿捏的卡点</p>
    <button id="start-test">开始测试</button>
</div>

<!-- 测试页 -->
<div id="test-page" class="page">
    <div class="progress-bar">
        <div class="progress-fill"></div>
    </div>

    <!-- 第 X 题 -->
    <div id="current-question" class="question-index"></div>

    <div id="question-category"></div>
    <h2 id="question-text"></h2>
    <div id="options-container"></div>
</div>

<!-- 结果页 -->
<div id="result-page" class="page">
    <h1>测试完成</h1>
    <p>你的卡点分析已生成（示例结果页）</p>
</div>

<script>
/* ================= 30 道题 ================= */
const questions = [
{category:"职场", text:"领导临时改需求并暗示是你理解错了，你会？", painPoint:"职场内耗"},
{category:"职场", text:"同事把不属于你的工作推给你，你通常？", painPoint:"边界模糊"},
{category:"职场", text:"被当众否定时，你更可能？", painPoint:"自我怀疑"},
{category:"职场", text:"明明很累却不敢请假，是因为？", painPoint:"讨好型"},
{category:"职场", text:"会议中你有不同意见，但多数时候？", painPoint:"不敢表达"},
{category:"关系", text:"朋友经常向你倾倒负面情绪，你会？", painPoint:"情绪过载"},
{category:"关系", text:"被爽约时，你通常选择？", painPoint:"压抑愤怒"},
{category:"关系", text:"对方冷暴力，你更可能？", painPoint:"关系焦虑"},
{category:"关系", text:"不舒服的玩笑出现时，你会？", painPoint:"边界模糊"},
{category:"关系", text:"你是否常常反思是不是自己太敏感？", painPoint:"自我怀疑"},
{category:"家庭", text:"家人指责你时，你往往？", painPoint:"情绪内耗"},
{category:"家庭", text:"被要求牺牲个人时间时？", painPoint:"讨好型"},
{category:"家庭", text:"你是否很难拒绝长辈？", painPoint:"边界模糊"},
{category:"家庭", text:"情绪被否定时你会？", painPoint:"压抑愤怒"},
{category:"家庭", text:"你是否常常隐忍不说？", painPoint:"自我压抑"},
{category:"自我", text:"别人评价你时，你更在意？", painPoint:"他评依赖"},
{category:"自我", text:"做决定时你通常？", painPoint:"自我怀疑"},
{category:"自我", text:"你是否害怕让人失望？", painPoint:"讨好型"},
{category:"自我", text:"你是否容易自责？", painPoint:"内在苛责"},
{category:"自我", text:"你是否经常想“是不是我不够好”？", painPoint:"自我否定"},
{category:"冲突", text:"发生冲突时你更可能？", painPoint:"回避冲突"},
{category:"冲突", text:"表达不满时你会？", painPoint:"表达困难"},
{category:"冲突", text:"被误解时你会？", painPoint:"无力辩解"},
{category:"冲突", text:"你是否害怕冲突升级？", painPoint:"冲突恐惧"},
{category:"冲突", text:"你是否事后反复复盘？", painPoint:"反刍思维"},
{category:"边界", text:"别人越界时你通常？", painPoint:"边界模糊"},
{category:"边界", text:"拒绝别人时你会？", painPoint:"内疚感"},
{category:"边界", text:"你是否觉得拒绝很自私？", painPoint:"讨好型"},
{category:"边界", text:"你是否习惯先考虑别人？", painPoint:"自我忽视"},
{category:"边界", text:"你是否很少提出自己的需求？", painPoint:"需求压抑"},
];

/* =============== 选项（统一） =============== */
const options = [
"A. 先反省是不是自己问题",
"B. 心里不舒服但忍下来",
"C. 想反驳但没说出口",
"D. 清楚表达立场与边界"
];

/* =============== 状态 & DOM =============== */
let currentQuestionIndex = 0;

const coverPage = document.getElementById('cover-page');
const testPage = document.getElementById('test-page');
const resultPage = document.getElementById('result-page');

const startTestBtn = document.getElementById('start-test');
const currentQuestionEl = document.getElementById('current-question');
const questionTextEl = document.getElementById('question-text');
const questionCategoryEl = document.getElementById('question-category');
const optionsContainerEl = document.getElementById('options-container');
const progressFillEl = document.querySelector('.progress-fill');

/* =============== 核心逻辑 =============== */
function showQuestion(index) {
    const q = questions[index];

    currentQuestionEl.textContent = `第 ${index + 1} 题 / 共 ${questions.length} 题`;
    progressFillEl.style.width = `${((index + 1) / questions.length) * 100}%`;

    questionCategoryEl.textContent = q.category;
    questionTextEl.textContent = q.text;
    optionsContainerEl.innerHTML = "";

    options.forEach((opt, i) => {
        const div = document.createElement("div");
        div.className = "option";
        div.textContent = opt;
        div.onclick = () => nextQuestion();
        optionsContainerEl.appendChild(div);
    });
}

function nextQuestion() {
    if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        showQuestion(currentQuestionIndex);
    } else {
        coverPage.classList.remove("active");
        testPage.classList.remove("active");
        resultPage.classList.add("active");
    }
}

/* =============== 启动 =============== */
startTestBtn.onclick = () => {
    coverPage.classList.remove("active");
    testPage.classList.add("active");
    showQuestion(0);
};
</script>

</body>
</html>
